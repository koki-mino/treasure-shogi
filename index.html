<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>きんちゃんのたからさがし - MVP</title>

  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- カスタムCSS -->
  <link rel="stylesheet" href="./style.css">
</head>
<body class="min-h-screen flex flex-col items-center justify-start bg-gradient-to-b from-amber-50 to-rose-50 text-gray-800 font-sans p-4 select-none">

  <!-- ヘッダー -->
  <header class="w-full max-w-sm text-center mb-4">
    <div class="inline-flex items-center gap-2 px-4 py-2 rounded-2xl bg-white shadow ring-1 ring-amber-200">
      <div class="w-8 h-8 rounded-full bg-amber-300 flex items-center justify-center text-xs font-bold text-gray-800 shadow-inner">
        金
      </div>
      <div class="text-left">
        <p class="text-sm font-semibold leading-tight">きんちゃんのたからさがし</p>
        <p class="text-[10px] leading-tight text-gray-500">「おたから」に たどりつけるかな？</p>
      </div>
    </div>
  </header>

  <!-- ステータス表示 -->
  <section id="statusBar" class="w-full max-w-sm flex items-center justify-between mb-3 text-xs">
    <div class="flex flex-col items-start">
      <span class="text-[10px] text-gray-500">のこりて</span>
      <span id="movesLeft" class="text-lg font-bold text-rose-500 drop-shadow">--</span>
    </div>
    <div class="flex flex-col items-center">
      <span class="text-[10px] text-gray-500">いまのステージ</span>
      <span id="stageName" class="text-xs font-semibold">1</span>
    </div>
    <button id="restartBtn"
      class="text-[11px] px-3 py-1 rounded-xl bg-white shadow ring-1 ring-gray-200 active:scale-95 transition">
      さいしょから
    </button>
  </section>

  <!-- 盤エリア -->
  <main class="w-full max-w-sm rounded-3xl bg-white shadow-lg ring-1 ring-gray-200 p-4">
    <div id="board" class="grid grid-cols-5 gap-1 aspect-square touch-manipulation" aria-label="ゲーム盤">
      <!-- セルはJSで生成 -->
    </div>
  </main>

  <!-- 説明 -->
  <section class="w-full max-w-sm text-[11px] leading-relaxed text-gray-600 mt-4">
    <p class="mb-2 font-semibold text-gray-700 flex items-center gap-1">
      <span class="w-4 h-4 rounded bg-amber-300 flex items-center justify-center text-[10px] font-bold text-gray-800 shadow-inner">金</span>
      きんちゃんの うごき
    </p>
    <p class="mb-1">・まえ / うしろ / みぎ / ひだり</p>
    <p class="mb-1">・ななめまえ(↖ ↗)</p>
    <p class="mb-2">※ ななめうしろには いけないよ</p>

    <p class="font-semibold text-rose-500">
      おたから<span class="inline-block align-middle w-4 h-4 ml-1 mr-1 rounded-lg bg-yellow-200 ring-1 ring-yellow-400 text-[10px] font-bold text-yellow-700 flex items-center justify-center shadow-inner">宝</span>
      に たどりつけば クリア！
    </p>
  </section>

  <!-- ポップアップ（クリア / 失敗） -->
  <div id="popup" class="fixed inset-0 hidden items-center justify-center popup-bg p-4 z-50">
    <div class="w-full max-w-[16rem] rounded-2xl bg-white shadow-xl ring-1 ring-gray-200 p-4 text-center">
      <div id="popupEmoji" class="text-4xl mb-2">🎉</div>
      <div id="popupMessage" class="text-sm font-semibold text-gray-800 mb-3 leading-snug">
        クリア！おたからゲット！
      </div>
      <button id="popupCloseBtn"
        class="w-full text-sm font-semibold px-4 py-2 rounded-xl bg-amber-400 text-gray-800 shadow active:scale-95 transition">
        つぎへ
      </button>
    </div>
  </div>

  <!-- ゲームロジック -->
  <script src="./app.js"></script>
</body>
</html>
